name: serre-api
service:
  name: serre-api
  instance_type: nano
  ports:
    - port: 8000
      protocol: http
  routes:
    - path: /
  env:
    - key: ENVIRONMENT
      value: production
    - key: SECRET_KEY
      value: serre-2025-secret-key
    - key: HIVEMQ_HOST
      value: bfa47866fb21414e8e532b321d99dcde.s1.eu.hivemq.cloud
    - key: HIVEMQ_PORT
      value: 8883
    - key: HIVEMQ_USER
      value: HUMIYA
    - key: HIVEMQ_PASS
      value: bWbiiz2MphgSZ3a
    - key: DATABASE_URL
      value: postgresql://neondb_owner:npg_i97gkBwoUfWa@ep-purple-wildflower-a1vsmzcq-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
  docker:
    dockerfile_path: backend/Dockerfile